<div class="flex-1 flex flex-col justify-between">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="px-4 divide-y divide-gray-200 sm:px-6">
      <div class="space-y-6 pt-6 pb-5">
        <div>
          <label
            for="battery-name"
            class="block text-sm font-medium text-gray-900">
            Battery name
          </label>
          <div class="mt-1">
            <input
              formControlName="name"
              type="text"
              name="battery-name"
              id="battery-name"
              class="block w-full shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md transition" />
            <p
              *ngIf="
                  form.get('name')?.hasError('required') &&
                  form.get('name')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Name is required.
            </p>
            <p
              *ngIf="
                  form.get('name')?.hasError('minlength') &&
                  form.get('name')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Minimum length is 3.
            </p>
            <p
              *ngIf="
                  form.get('name')?.hasError('maxlength') &&
                  form.get('name')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Maximum length is 20.
            </p>
          </div>
        </div>
        <div>
          <label
            for="description"
            class="block text-sm font-medium text-gray-900">
            Description
          </label>
          <div class="mt-1">
            <textarea
              formControlName="description"
              id="description"
              name="description"
              rows="4"
              class="block w-full shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md transition"></textarea>
            <p
              *ngIf="
                  form.get('description')?.hasError('required') &&
                  form.get('description')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Description is required.
            </p>
            <p
              *ngIf="
                  form.get('description')?.hasError('minlength') &&
                  form.get('description')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Minimum length is 3.
            </p>
            <p
              *ngIf="
                  form.get('description')?.hasError('maxlength') &&
                  form.get('description')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Maximum length is 255.
            </p>
          </div>
        </div>
        <div>
          <label for="level" class="block text-sm font-medium text-gray-900">
            Level
          </label>
          <div class="mt-1">
            <input
              formControlName="level"
              type="number"
              name="level"
              id="level"
              class="block w-full shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md transition" />
            <p
              *ngIf="
                  form.get('level')?.hasError('required') &&
                  form.get('level')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Level is required.
            </p>
            <p
              *ngIf="
                  form.get('level')?.hasError('min') &&
                  form.get('level')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Minimum level is 0.
            </p>
            <p
              *ngIf="
                  form.get('level')?.hasError('max') &&
                  form.get('level')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Maximum level is 100.
            </p>
          </div>
        </div>
        <div>
          <label for="voltage" class="block text-sm font-medium text-gray-900">
            Voltage
          </label>
          <div class="mt-1">
            <input
              formControlName="voltage"
              type="number"
              name="voltage"
              id="voltage"
              class="block w-full shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md transition" />
            <p
              *ngIf="
                  form.get('voltage')?.hasError('required') &&
                  form.get('voltage')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Voltage is required.
            </p>
            <p
              *ngIf="
                  form.get('voltage')?.hasError('min') &&
                  form.get('voltage')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Minimum voltage is 0.
            </p>
            <p
              *ngIf="
                  form.get('voltage')?.hasError('max') &&
                  form.get('voltage')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Maximum voltage is 100.
            </p>
          </div>
        </div>
        <div>
          <label for="capacity" class="block text-sm font-medium text-gray-900">
            Capacity
          </label>
          <div class="mt-1">
            <input
              formControlName="capacity"
              type="number"
              name="capacity"
              id="capacity"
              class="block w-full shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md transition" />
            <p
              *ngIf="
                  form.get('capacity')?.hasError('required') &&
                  form.get('capacity')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Capacity is required.
            </p>
            <p
              *ngIf="
                  form.get('capacity')?.hasError('min') &&
                  form.get('capacity')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Minimum capacity is 0.
            </p>
            <p
              *ngIf="
                  form.get('capacity')?.hasError('max') &&
                  form.get('capacity')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Maximum capacity is 100.
            </p>
          </div>
        </div>
        <div>
          <label for="weight" class="block text-sm font-medium text-gray-900">
            Weight
          </label>
          <div class="mt-1">
            <input
              formControlName="weight"
              type="number"
              name="weight"
              id="weight"
              class="block w-full shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md transition" />
            <p
              *ngIf="
                  form.get('weight')?.hasError('required') &&
                  form.get('weight')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Weight is required.
            </p>
            <p
              *ngIf="
                  form.get('weight')?.hasError('min') &&
                  form.get('weight')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Minimum weight is 0.
            </p>
          </div>
        </div>
        <div>
          <label for="generatingPower" class="block text-sm font-medium text-gray-900">
            Generating Power
          </label>
          <div class="mt-1">
            <input
              formControlName="generatingPower"
              type="number"
              name="generatingPower"
              id="generatingPower"
              class="block w-full shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md transition" />
            <p
              *ngIf="
                  form.get('generatingPower')?.hasError('required') &&
                  form.get('generatingPower')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Generating power is required.
            </p>
            <p
              *ngIf="
                  form.get('generatingPower')?.hasError('min') &&
                  form.get('generatingPower')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Minimum generating power is 0.
            </p>
            <p
              *ngIf="
                  form.get('generatingPower')?.hasError('max') &&
                  form.get('generatingPower')?.touched
                "
              class="mt-2 text-sm text-red-600">
              Maximum generating power is 100.
            </p>
          </div>
        </div>
        <div>
          <label
            id="listbox-label"
            class="block text-sm font-medium text-gray-700">
            Status
          </label>
          <div class="mt-1 relative">
            <button
              (click)="toggleStatusDropdown()"
              type="button"
              class="relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm hover:cursor-pointer hover:bg-gray-50 transition"
              aria-haspopup="listbox"
              aria-expanded="true"
              aria-labelledby="listbox-label">
              <div class="flex items-center">
                <span
                  [ngClass]="{
                    'bg-green-400': currentSelectedStatus === 'active',
                    'bg-blue-400': currentSelectedStatus === 'hold',
                    'bg-yellow-400': currentSelectedStatus === 'repairing',
                    'bg-red-400': currentSelectedStatus === 'breaking',
                    'bg-gray-400': currentSelectedStatus === 'disabled'
                  }"
                  class="flex-shrink-0 inline-block h-2 w-2 rounded-full"></span>
                <span class="ml-3 block truncate"> {{ currentSelectedStatus | titlecase }} </span>
              </div>
              <span
                class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                <svg
                  class="h-5 w-5 text-gray-400"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  aria-hidden="true">
                  <path
                    fill-rule="evenodd"
                    d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
                    clip-rule="evenodd" />
                </svg>
              </span>
            </button>
            <ul
              [@dropdownMenu]="statusDropdownIsOpen ? 'open' : 'close'"
              class="absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"
              tabindex="-1"
              role="listbox"
              aria-labelledby="listbox-label">
              <li *ngFor="let s of status"
                (click)="setStatus(s)"
                class="text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9 hover:cursor-pointer hover:bg-gray-50 transition"
                role="option">
                <div class="flex items-center">
                  <span
                    [ngClass]="{
                      'bg-green-400': s === 'active',
                      'bg-blue-400': s === 'hold',
                      'bg-yellow-400': s === 'repairing',
                      'bg-red-400': s === 'breaking',
                      'bg-gray-400': s === 'disabled'
                    }"
                    class="bg-yellow-400 flex-shrink-0 inline-block h-2 w-2 rounded-full"
                    aria-hidden="true"></span>
                  <span class="font-normal ml-3 block truncate"
                        [class.font-semibold]="currentSelectedStatus === s">
                    {{ s | titlecase }}
                  </span>
                </div>
                <span *ngIf="currentSelectedStatus === s"
                  class="text-indigo-600 absolute inset-y-0 right-0 flex items-center pr-4">
                  <svg
                    class="h-5 w-5"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                    aria-hidden="true">
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd" />
                  </svg>
                </span>
              </li>
            </ul>
          </div>
        </div>
        <fieldset>
          <legend class="text-sm font-medium text-gray-900">Type</legend>
          <div class="mt-2 space-y-5">
            <div class="relative flex items-start">
              <div class="absolute flex items-center h-5">
                <input
                  formControlName="type"
                  name="type"
                  value="ACID"
                  type="radio"
                  class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 hover:cursor-pointer transition"
                  checked />
              </div>
              <div class="pl-7 text-sm">
                <label class="font-medium text-gray-900">
                  Lead ACID
                </label>
                <p id="privacy-public-description" class="text-gray-500">
                  The reliability of lead-acid batteries is great for off-grid
                  solar systems, or for emergency backup storage in case of a
                  power outage.
                </p>
              </div>
            </div>
            <div>
              <div class="relative flex items-start">
                <div class="absolute flex items-center h-5">
                  <input
                    formControlName="type"
                    name="type"
                    value="ION"
                    type="radio"
                    class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 hover:cursor-pointer transition" />
                </div>
                <div class="pl-7 text-sm">
                  <label
                    class="font-medium text-gray-900">
                    Lithium ION
                  </label>
                  <p
                    id="privacy-private-to-project-description"
                    class="text-gray-500">
                    Lithium ion batteries are best for residential solar
                    installations because they can hold more power in a limited
                    space, and allow you to use more of the energy stored within
                    the battery, which is great for powering a home.
                  </p>
                </div>
              </div>
            </div>
            <div>
              <div class="relative flex items-start">
                <div class="absolute flex items-center h-5">
                  <input
                    formControlName="type"
                    value="FLOW"
                    name="type"
                    type="radio"
                    class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 hover:cursor-pointer transition" />
                </div>
                <div class="pl-7 text-sm">
                  <label class="font-medium text-gray-900">
                    Flow
                  </label>
                  <p id="privacy-private-description" class="text-gray-500">
                    Flow batteries are best for large-scale installations.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="pt-4 pb-6">
        <div class="mt-4 flex text-sm">
          <a
            href="#"
            class="group inline-flex items-center text-gray-500 hover:text-gray-900 hover:cursor-pointer transition">
            <svg
              class="h-5 w-5 text-gray-400 group-hover:text-gray-500 transition"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              fill="currentColor"
              aria-hidden="true">
              <path
                fill-rule="evenodd"
                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                clip-rule="evenodd" />
            </svg>
            <span class="ml-2 transition">Learn more about battery types</span>
          </a>
        </div>
      </div>
      <div class="flex-shrink-0 py-4 flex justify-end">
        <button
          type="button"
          class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 hover:cursor-pointer transition">
          Cancel
        </button>
        <button
          type="submit"
          class="ml-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 hover:cursor-pointer transition">
          Save
        </button>
      </div>
    </div>
  </form>
</div>
